@startuml

hide empty methods

class Domain {
    + id: long
    + name: String
}

Domain -- "*" User
Domain -- "*" Counter
Domain -- "*" BadgeType
Domain -- "*" Rule

class User {
    + id: long
    + profileId: String
    + profileUrl: String
}

User -- "*" Bucket
User -- "*" Event
User -- "*" Badge

class Counter {
    + id: long
    + name: String
}

Counter -- "*" Metric

class Metric {
    + id: long
    + name: String
}

Metric - "*" Bucket

class Bucket {
    + time: Date
    + value: long
}

class BadgeType {
    + id: long
    + name: String
    + color: String
    + image: String
    + isSingleton: boolean
    + parent: BadgeType
}

BadgeType "1" -- Badge

class Badge {
    + id: long
    + awarded: Date
}

class Rule {
    + id: long
    + condition: String
}

BadgeType "1" - Rule : "awards"

class Event {
    + id: long
    + time: Date
    + updates: [{Counter, long}]
}

@enduml